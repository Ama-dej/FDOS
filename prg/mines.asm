[BITS 16]
[ORG 0x0000]

	MOV AX, 0x0001
	INT 0x10

GET_KEY:
	XOR AH, AH
	INT 0x16

	OR AL, 0x20

	MOV DX, WORD[CURSOR_POSITION]

	CMP AL, 'a'
	JE MOVE_LEFT

	CMP AL, 'd'
	JE MOVE_RIGHT

	CMP AL, 'w'
	JE MOVE_UP

	CMP AL, 's'
	JE MOVE_DOWN

	CMP AX, 0x013B
	JE EXIT

	JMP GET_KEY

MOVE_LEFT:
	TEST DL, DL
	JZ GET_KEY

	DEC DL
	JMP MOVE_CURSOR

MOVE_RIGHT:
	CMP DL, 39
	JAE GET_KEY

	INC DL
	JMP MOVE_CURSOR

MOVE_UP:
	TEST DH, DH
	JZ GET_KEY

	DEC DH
	JMP MOVE_CURSOR

MOVE_DOWN:
	CMP DH, 24
	JAE GET_KEY

	INC DH

MOVE_CURSOR:
	MOV AH, 0x02
	XOR BH, BH
	INT 0x10

	MOV WORD[CURSOR_POSITION], DX

	JMP GET_KEY

EXIT:
	MOV AX, 0x0003
	INT 0x10

	XOR AH, AH
	INT 0x80

CURSOR_POSITION: DW 0
